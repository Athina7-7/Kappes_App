{% extends "base.html" %}

{% block content %}
<div class="container text-center mt-5">
  <div class="card shadow-sm p-4" style="max-width: 500px; margin: 0 auto;">
    <h2 class="fw-bold text-danger">Confirmar eliminación</h2>

    {% if mesas %}
      <!-- Mensaje si hay varias mesas seleccionadas -->
      <p class="mt-3 fs-5">
        ¿Seguro que deseas eliminar las siguientes mesas?
      </p>
      <ul class="list-group list-group-flush text-start mb-3">
        {% for mesa in mesas %}
          <li class="list-group-item">
            <strong>Mesa #{{ mesa.numero }}</strong>
          </li>
        {% endfor %}
      </ul>
    {% else %}

      <!-- Mensaje si es una sola mesa -->
      <p class="mt-3 fs-5">
        ¿Seguro que deseas eliminar la <strong>Mesa #{{ mesa.numero }}</strong>?
      </p>
    {% endif %}

    <!-- Formulario de confirmación -->
    <form action="{% url 'confirmar_eliminar_mesa' mesa.id_mesa|default:0 %}" method="post" class="mt-4">
      {% csrf_token %}
      {% if mesas %}
        {% for m in mesas %}
          <input type="hidden" name="mesas_seleccionadas" value="{{ m.id_mesa }}">
        {% endfor %}
      {% endif %}
      <button type="submit" class="btn btn-danger px-4 me-2">Sí, eliminar</button>
      <a href="{% url 'home' %}" class="btn btn-secondary px-4">Cancelar</a>
    </form>
  </div>
</div>
{% endblock %}
